!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-btn",inactiveButtonClass:"modal__save-btn_inactive",inputErrorClass:"-error",errorClass:"modal__input-error"},t=(e,t,o)=>{const n=t.id+"-error",r=e.querySelector("#"+n);r.textContent="",r.classList.remove(o.errorClass)},o=(e,t,o)=>{(e=>e.some(e=>!e.validity.valid))(e)?(t.classList.add(o.inactiveButtonClass),t.disabled=!0):(t.classList.remove(o.inactiveButtonClass),t.disabled=!1)};!function(n=e){document.querySelectorAll(n.formSelector).forEach(r=>{((n,r)=>{const c=Array.from(n.querySelectorAll(r.inputSelector)),a=n.querySelector(r.submitButtonSelector);o(c,a,r),c.forEach(s=>{s.addEventListener("input",()=>{((o,n,r)=>{n.validity.valid?n.validity.valid&&t(o,n,r):((t,o,n,r=e)=>{const c=o.id+r.inputErrorClass,a=t.querySelector("#"+c);a.textContent=n,a.classList.add(r.errorClass)})(o,n,n.validationMessage,r)})(n,s,r),o(c,a,r)})})})(r,n)})}(e);const n=document.querySelector("#card-template"),r=document.querySelector(".cards__list");function c(e){e.classList.add("modal_is-opened"),j()}function a(e){e.classList.remove("modal_is-opened"),B()}const s=document.querySelector("#profile-edit-modal"),l=document.querySelector(".profile__edit-button"),i=s.querySelector(".modal__close-btn"),u=s.querySelector(".modal-background"),d=document.querySelector("#profile-name-input"),m=document.querySelector("#profile-description-input"),p=document.querySelector(".profile__name"),_=document.querySelector(".profile__description"),y=s.querySelector(".modal__form");l.addEventListener("click",()=>{d.value=p.textContent,m.value=_.textContent,c(s),function(o,n,r=e){n.forEach(e=>{t(o,e,r)})}(y,[d,m],e)}),i.addEventListener("click",()=>a(s)),u.addEventListener("click",()=>a(s)),y.addEventListener("submit",function(e){e.preventDefault(),p.textContent=d.value,_.textContent=m.value,a(s)});const v=document.querySelector("#post-new-modal"),f=document.querySelector(".profile__add-button"),S=v.querySelector(".modal__close-btn"),q=v.querySelector(".modal-background"),g=(v.querySelector(".modal__save-btn"),document.querySelector(".card__image"),document.querySelector(".card__content-title"),document.querySelector("#new-post-image-link-input")),h=document.querySelector("#new-post-caption-input"),k=v.querySelector(".modal__form");function w(e){const t=n.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__content-title"),r=t.querySelector(".card__image");r.src=e.link,r.alt=e.name,o.textContent=e.name;const a=t.querySelector(".card__content-like-button");return a.addEventListener("click",()=>{a.classList.toggle("card__content-like-button_active")}),t.querySelector(".card__delete-button").addEventListener("click",()=>{t.remove()}),r.addEventListener("click",()=>{C.src=e.link,C.alt=e.name,x.textContent=e.name,c(b)}),t}f.addEventListener("click",()=>{c(v)}),S.addEventListener("click",()=>a(v)),q.addEventListener("click",()=>a(v)),k.addEventListener("submit",function(t){t.preventDefault();const n=w({link:g.value,name:h.value});r.prepend(n),t.target.reset(),o([g,h],t.submitter,e),a(v)}),[{name:"Golden Gate Bridge",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"},{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"a person stacking rocks on top of each other",link:"https://unsplash.com/photos/a-person-stacking-rocks-on-top-of-each-other-RFFzlqBSmRw"}].forEach(e=>{const t=w(e);r.append(t)});const b=document.querySelector("#preview-modal"),E=b.querySelector(".modal__close-btn_preview"),L=b.querySelector(".modal-background"),C=b.querySelector(".modal__image-preview"),x=b.querySelector(".modal__preview-title");function z(e){"Escape"===e.key&&a(document.querySelector(".modal_is-opened"))}E.addEventListener("click",()=>a(b)),L.addEventListener("click",()=>a(b));const j=()=>{document.addEventListener("keydown",z)},B=()=>{document.removeEventListener("keydown",z)}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVdzQyxJQUVoRVUsRUFBdUIzRCxpQkFBaUIsUUFBUyxJQUMvQ1csRUFBV3NDLElBV2IsTUFBTXZDLEVBQWtCQSxLQUN0QmhCLFNBQVNNLGlCQUFpQixVQUFXNEQsSUFHakNoRCxFQUF5QkEsS0FDN0JsQixTQUFTb0Usb0JBQW9CLFVBQVdGLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X3Nwb3RzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG5jb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zYXZlLWJ0blwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zYXZlLWJ0bl9pbmFjdGl2ZVwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwiLWVycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0LWVycm9yXCIsXG59O1xuXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChcbiAgZm9ybUVsZW1lbnQsXG4gIGlucHV0RWxlbWVudCxcbiAgaW5wdXRFcnJvck1lc3NhZ2UsXG4gIGNvbmZpZyA9IHNldHRpbmdzXG4pID0+IHtcbiAgY29uc3QgZXJyb3JNc2dJZCA9IGlucHV0RWxlbWVudC5pZCArIGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gIGNvbnN0IGVycm9yTXNnRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBlcnJvck1zZ0lkKTtcbiAgZXJyb3JNc2dFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFcnJvck1lc3NhZ2U7XG4gIGVycm9yTXNnRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5lcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IHJlbW92ZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGVycm9yTXNnSWQgPSBpbnB1dEVsZW1lbnQuaWQgKyBcIi1lcnJvclwiO1xuICBjb25zdCBlcnJvck1zZ0VsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI1wiICsgZXJyb3JNc2dJZCk7XG4gIGVycm9yTXNnRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGVycm9yTXNnRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5lcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBjb25maWcpID0+IHtcbiAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICBzaG93SW5wdXRFcnJvcihcbiAgICAgIGZvcm1FbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlLFxuICAgICAgY29uZmlnXG4gICAgKTtcbiAgfSBlbHNlIGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICByZW1vdmVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGNvbmZpZyk7XG4gIH1cbn07XG5cbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgfSk7XG59O1xuXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQsIGNvbmZpZykgPT4ge1xuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG59O1xuXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWxlbWVudCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcilcbiAgKTtcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBlbmFibGVWYWxpZGF0aW9uKGNvbmZpZyA9IHNldHRpbmdzKSB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCwgY29uZmlnKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0VmFsaWRhdGlvbihmb3JtRWxlbWVudCwgaW5wdXRMaXN0LCBjb25maWcgPSBzZXR0aW5ncykge1xuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICByZW1vdmVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dCwgY29uZmlnKTtcbiAgfSk7XG59XG5cbi8vIGVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xuXG5leHBvcnQgeyBlbmFibGVWYWxpZGF0aW9uLCByZXNldFZhbGlkYXRpb24sIHNldHRpbmdzLCB0b2dnbGVCdXR0b25TdGF0ZSB9O1xuIiwiLy8gaW1wb3J0IFwiLi9pbmRleC5jc3NcIjsgLS0tIElHTk9SRSAtLS1cclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgZW5hYmxlVmFsaWRhdGlvbixcclxuICByZXNldFZhbGlkYXRpb24sXHJcbiAgc2V0dGluZ3MsXHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUsXHJcbn0gZnJvbSBcIi4uL3NjcmlwdHMvdmFsaWRhdGlvbi5qc1wiO1xyXG5cclxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIC8vIGV4YW1wbGUgY2FyZFxyXG4gICAgbmFtZTogXCJHb2xkZW4gR2F0ZSBCcmlkZ2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy83LXBob3RvLWJ5LWdyaWZmaW4td29vbGRyaWRnZS1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbCBUaG9yZW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMS1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogXCJSZXN0YXVyYW50IHRlcnJhY2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy8yLXBob3RvLWJ5LWNlaWxpbmUtZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogXCJBbiBvdXRkb29yIGNhZmVcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy8zLXBob3RvLWJ5LXR1YmFudXItZG9nYW4tZnJvbS1wZXhlbHMuanBnXCIsXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogXCJBIHZlcnkgbG9uZyBicmlkZ2UsIG92ZXIgdGhlIGZvcmVzdCBhbmQgdGhyb3VnaCB0aGUgdHJlZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy80LXBob3RvLWJ5LW1hdXJpY2UtbGFzY2hldC1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lOiBcIlR1bm5lbCB3aXRoIG1vcm5pbmcgbGlnaHRcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy81LXBob3RvLWJ5LXZhbi1hbmgtbmd1eWVuLWZyb20tcGV4ZWxzLmpwZ1wiLFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6IFwiTW91bnRhaW4gaG91c2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9zcG90cy82LXBob3RvLWJ5LW1vcml0ei1mZWxkbWFubi1mcm9tLXBleGVscy5qcGdcIixcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICAvLyBhZGRpdGlvbmFsIGNhcmRcclxuICAgIG5hbWU6IFwiYSBwZXJzb24gc3RhY2tpbmcgcm9ja3Mgb24gdG9wIG9mIGVhY2ggb3RoZXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly91bnNwbGFzaC5jb20vcGhvdG9zL2EtcGVyc29uLXN0YWNraW5nLXJvY2tzLW9uLXRvcC1vZi1lYWNoLW90aGVyLVJGRnpscUJTbVJ3XCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vIGtlZXAgYW4gZXllIG9uIHRoaXMgbGluZVxyXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcclxuXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKTtcclxuXHJcbmNvbnN0IGNhcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpc3RcIik7XHJcblxyXG4vL29wZW4gJiBjbG9zaW5nIGZ1bmN0aW9uc1xyXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfaXMtb3BlbmVkXCIpO1xyXG4gIGxpc3RlbkZvckVzY2FwZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX2lzLW9wZW5lZFwiKTtcclxuICBzdG9wTGlzdGVuaW5nRm9yRXNjYXBlKCk7XHJcbn1cclxuXHJcbi8vZWRpdCBwcm9maWxlIG1vZGFsXHJcbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlQ2xvc2VCdG4gPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlQmFja2dyb3VuZCA9XHJcbiAgZWRpdFByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJhY2tncm91bmRcIik7XHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1uYW1lLWlucHV0XCIpO1xyXG5cclxuY29uc3QgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcclxuKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCJcclxuKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlRm9ybSA9IGVkaXRQcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdEVkaXRQcm9maWxlTW9kYWwoZXZ0KSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gZWRpdFByb2ZpbGVOYW1lSW5wdXQudmFsdWU7XHJcbiAgcHJvZmlsZURlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZTtcclxuICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xyXG59XHJcblxyXG5lZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGVkaXRQcm9maWxlTmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50O1xyXG4gIGVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQ7XHJcbiAgb3Blbk1vZGFsKGVkaXRQcm9maWxlTW9kYWwpO1xyXG4gIHJlc2V0VmFsaWRhdGlvbihcclxuICAgIGVkaXRQcm9maWxlRm9ybSxcclxuICAgIFtlZGl0UHJvZmlsZU5hbWVJbnB1dCwgZWRpdFByb2ZpbGVEZXNjcmlwdGlvbklucHV0XSxcclxuICAgIHNldHRpbmdzXHJcbiAgKTtcclxufSk7XHJcblxyXG5lZGl0UHJvZmlsZUNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gIGNsb3NlTW9kYWwoZWRpdFByb2ZpbGVNb2RhbClcclxuKTtcclxuXHJcbmVkaXRQcm9maWxlQmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICBjbG9zZU1vZGFsKGVkaXRQcm9maWxlTW9kYWwpXHJcbik7XHJcblxyXG5lZGl0UHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBzdWJtaXRFZGl0UHJvZmlsZU1vZGFsKTtcclxuXHJcbi8vbmV3IHBvc3QgbW9kYWxcclxuY29uc3QgbmV3UG9zdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3N0LW5ldy1tb2RhbFwiKTtcclxuXHJcbmNvbnN0IG5ld1Bvc3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcblxyXG5jb25zdCBuZXdQb3N0Q2xvc2VCdG4gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xyXG5cclxuY29uc3QgbmV3UG9zdEJhY2tncm91bmQgPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1iYWNrZ3JvdW5kXCIpO1xyXG5cclxuY29uc3QgbmV3UG9zdFNhdmVCdG4gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZS1idG5cIik7XHJcblxyXG5jb25zdCBjYXJkSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuXHJcbmNvbnN0IGNhcmRDb250ZW50VGl0bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19jb250ZW50LXRpdGxlXCIpOyAvL3N1Yi1jbGFzcyBvZiBjYXJkX19jb250ZW50XHJcblxyXG5jb25zdCBuZXdQb3N0SW1hZ2VMaW5rSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI25ldy1wb3N0LWltYWdlLWxpbmstaW5wdXRcIlxyXG4pO1xyXG5jb25zdCBuZXdQb3N0SW1hZ2VDYXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI25ldy1wb3N0LWNhcHRpb24taW5wdXRcIlxyXG4pO1xyXG5cclxuY29uc3QgbmV3UG9zdEZvcm0gPSBuZXdQb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuXHJcbm5ld1Bvc3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBvcGVuTW9kYWwobmV3UG9zdE1vZGFsKTtcclxufSk7XHJcblxyXG5uZXdQb3N0Q2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKSk7XHJcblxyXG5uZXdQb3N0QmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VNb2RhbChuZXdQb3N0TW9kYWwpKTtcclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdE5ld1Bvc3RNb2RhbChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgY29uc3QgY2FyZElucHV0cyA9IHtcclxuICAgIGxpbms6IG5ld1Bvc3RJbWFnZUxpbmtJbnB1dC52YWx1ZSxcclxuICAgIG5hbWU6IG5ld1Bvc3RJbWFnZUNhcHRpb25JbnB1dC52YWx1ZSxcclxuICB9O1xyXG5cclxuICBjb25zdCBuZXdDYXJkID0gZ2V0Q2FyZEVsZW1lbnQoY2FyZElucHV0cyk7XHJcblxyXG4gIGNhcmRzTGlzdC5wcmVwZW5kKG5ld0NhcmQpO1xyXG5cclxuICBldnQudGFyZ2V0LnJlc2V0KCk7XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKFxyXG4gICAgW25ld1Bvc3RJbWFnZUxpbmtJbnB1dCwgbmV3UG9zdEltYWdlQ2FwdGlvbklucHV0XSxcclxuICAgIGV2dC5zdWJtaXR0ZXIsXHJcbiAgICBzZXR0aW5nc1xyXG4gICk7XHJcblxyXG4gIGNsb3NlTW9kYWwobmV3UG9zdE1vZGFsKTtcclxufVxyXG5cclxubmV3UG9zdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBzdWJtaXROZXdQb3N0TW9kYWwpO1xyXG5cclxuLy8gcHJpbWFyeSBmdW5jdGlvblxyXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICBjb25zdCBjYXJkVGl0bGVFbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fY29udGVudC10aXRsZVwiKTtcclxuICBjb25zdCBjYXJkSW1hZ2VFbCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcblxyXG4gIGNhcmRJbWFnZUVsLnNyYyA9IGRhdGEubGluaztcclxuICBjYXJkSW1hZ2VFbC5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgY2FyZFRpdGxlRWwudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcblxyXG4gIGNvbnN0IGNhcmRMaWtlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIFwiLmNhcmRfX2NvbnRlbnQtbGlrZS1idXR0b25cIlxyXG4gICk7XHJcblxyXG4gIGNhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fY29udGVudC1saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGNhcmREZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XHJcblxyXG4gIGNhcmREZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gIH0pO1xyXG5cclxuICBjYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbW9kYWxQcmV2aWV3SW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgbW9kYWxQcmV2aWV3SW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAgbW9kYWxQcmV2aWV3VGl0bGUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICBvcGVuTW9kYWwobW9kYWxQcmV2aWV3KTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG5pbml0aWFsQ2FyZHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gIGNvbnN0IGNhcmRFbGVtID0gZ2V0Q2FyZEVsZW1lbnQoZWxlbWVudCk7XHJcbiAgY2FyZHNMaXN0LmFwcGVuZChjYXJkRWxlbSk7XHJcbn0pO1xyXG5cclxuY29uc3QgbW9kYWxQcmV2aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2aWV3LW1vZGFsXCIpO1xyXG5cclxuY29uc3QgbW9kYWxQcmV2aWV3Q2xvc2VCdG4gPSBtb2RhbFByZXZpZXcucXVlcnlTZWxlY3RvcihcclxuICBcIi5tb2RhbF9fY2xvc2UtYnRuX3ByZXZpZXdcIlxyXG4pO1xyXG5cclxuY29uc3QgbW9kYWxQcmV2aWV3QmFja2dyb3VuZCA9IG1vZGFsUHJldmlldy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWJhY2tncm91bmRcIik7XHJcblxyXG5jb25zdCBtb2RhbFByZXZpZXdJbWFnZSA9IG1vZGFsUHJldmlldy5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1wcmV2aWV3XCIpO1xyXG5cclxuY29uc3QgbW9kYWxQcmV2aWV3VGl0bGUgPSBtb2RhbFByZXZpZXcucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcHJldmlldy10aXRsZVwiKTtcclxuXHJcbm1vZGFsUHJldmlld0Nsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZU1vZGFsKG1vZGFsUHJldmlldykpO1xyXG5cclxubW9kYWxQcmV2aWV3QmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICBjbG9zZU1vZGFsKG1vZGFsUHJldmlldylcclxuKTtcclxuXHJcbi8vIGtleWRvd24gb24gZXNjYXBlXHJcbmZ1bmN0aW9uIGVzY2FwZUtleURvd24oZXZ0KSB7XHJcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9pcy1vcGVuZWRcIik7XHJcbiAgICBjbG9zZU1vZGFsKG1vZGFsKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGxpc3RlbkZvckVzY2FwZSA9ICgpID0+IHtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlc2NhcGVLZXlEb3duKTtcclxufTtcclxuXHJcbmNvbnN0IHN0b3BMaXN0ZW5pbmdGb3JFc2NhcGUgPSAoKSA9PiB7XHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXNjYXBlS2V5RG93bik7XHJcbn07XHJcbiJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwicmVtb3ZlSW5wdXRFcnJvciIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiY29uZmlnIiwiZXJyb3JNc2dJZCIsImlkIiwiZXJyb3JNc2dFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dExpc3QiLCJidXR0b25FbGVtZW50Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJoYXNJbnZhbGlkSW5wdXQiLCJhZGQiLCJkaXNhYmxlZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzZXRFdmVudExpc3RlbmVycyIsIkFycmF5IiwiZnJvbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImlucHV0RXJyb3JNZXNzYWdlIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlbmFibGVWYWxpZGF0aW9uIiwiY2FyZFRlbXBsYXRlIiwiY2FyZHNMaXN0Iiwib3Blbk1vZGFsIiwibW9kYWwiLCJsaXN0ZW5Gb3JFc2NhcGUiLCJjbG9zZU1vZGFsIiwic3RvcExpc3RlbmluZ0ZvckVzY2FwZSIsImVkaXRQcm9maWxlTW9kYWwiLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImVkaXRQcm9maWxlQ2xvc2VCdG4iLCJlZGl0UHJvZmlsZUJhY2tncm91bmQiLCJlZGl0UHJvZmlsZU5hbWVJbnB1dCIsImVkaXRQcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsInByb2ZpbGVOYW1lRWxlbWVudCIsInByb2ZpbGVEZXNjcmlwdGlvbkVsZW1lbnQiLCJlZGl0UHJvZmlsZUZvcm0iLCJ2YWx1ZSIsImlucHV0IiwicmVzZXRWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJuZXdQb3N0TW9kYWwiLCJuZXdQb3N0QnV0dG9uIiwibmV3UG9zdENsb3NlQnRuIiwibmV3UG9zdEJhY2tncm91bmQiLCJuZXdQb3N0SW1hZ2VMaW5rSW5wdXQiLCJuZXdQb3N0SW1hZ2VDYXB0aW9uSW5wdXQiLCJuZXdQb3N0Rm9ybSIsImdldENhcmRFbGVtZW50IiwiZGF0YSIsImNhcmRFbGVtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImNhcmRUaXRsZUVsIiwiY2FyZEltYWdlRWwiLCJzcmMiLCJsaW5rIiwiYWx0IiwibmFtZSIsImNhcmRMaWtlQnV0dG9uIiwidG9nZ2xlIiwibW9kYWxQcmV2aWV3SW1hZ2UiLCJtb2RhbFByZXZpZXdUaXRsZSIsIm1vZGFsUHJldmlldyIsIm5ld0NhcmQiLCJwcmVwZW5kIiwidGFyZ2V0IiwicmVzZXQiLCJzdWJtaXR0ZXIiLCJlbGVtZW50IiwiY2FyZEVsZW0iLCJhcHBlbmQiLCJtb2RhbFByZXZpZXdDbG9zZUJ0biIsIm1vZGFsUHJldmlld0JhY2tncm91bmQiLCJlc2NhcGVLZXlEb3duIiwia2V5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciJdLCJzb3VyY2VSb290IjoiIn0=